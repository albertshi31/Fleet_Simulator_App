{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["ambientLight","AmbientLight","color","intensity","pointLight","PointLight","position","DEFAULT_THEME","buildingColor","trailColor0","trailColor1","trailColor2","trailColor3","trailColor4","material","ambient","diffuse","shininess","specularColor","effects","LightingEffect","INITIAL_VIEW_STATE","longitude","center_coordinates","latitude","zoom","pitch","bearing","ICON_MAPPING","marker","x","y","width","height","anchorY","App","kiosks","KIOSKS","kiosk_metrics","KIOSK_METRICS","road_network","ROAD_NETWORK","trips","TRIPS","trailLength","initialViewState","mapStyle","theme","loopLength","startingAnimationSpeed","startTime","useState","occupancyHideArray","setOccupancyHideArray","animationSpeed","setAnimationSpeed","prevAnimationSpeed","setPrevAnimationSpeed","time","setTime","period","$","css","hours","Math","floor","minutes","seconds","display_time","text","updateTime","timeframe_idx","TIME_STEP","toString","vehicles_moving","timeframe_metrics","toLocaleString","vehicles_with_pax_moving","empty_vehicles_moving","vehicles_not_moving","total_pax","pax_moving","pax_waiting","pax_served_running_total","pax_missed_running_total","updateMetricAnimations","animation","animate","t","id","window","requestAnimationFrame","useEffect","cancelAnimationFrame","trailColors","layers","GeoJsonLayer","data","pickable","lineWidthScale","getLineWidth","lineWidthMinPixels","getLineColor","parameters","depthTest","IconLayer","iconAtlas","iconMapping","getIcon","d","sizeScale","getPosition","coordinates","getSize","sizeMinPixels","sizeMaxPixels","TextLayer","fontFamily","characterSet","c","getText","n","v","p","g","getAngle","getTextAnchor","getAlignmentBaseline","TripsLayer","getPath","lnglats","getTimestamps","timestamps","getColor","num","num_passengers","includes","updateTriggers","opacity","widthMinPixels","rounded","currentTime","shadowEnabled","style","bottom","right","zIndex","class","type","value","onClick","id_str","copyArray","result","prop","filter","parseInt","val","concat","for","background","left","textAlign","max","paddingTop","float","onChange","document","getElementById","min","controller","getTooltip","object","msg","reuseMaps","preventStyleDiffing","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"js/main.d69d884f.chunk.js","sourcesContent":["/* global window */\nimport React, {useState, useEffect} from 'react';\nimport {render} from 'react-dom';\nimport {StaticMap} from 'react-map-gl';\nimport {AmbientLight, PointLight, LightingEffect} from '@deck.gl/core';\nimport DeckGL from '@deck.gl/react';\nimport {TripsLayer} from '@deck.gl/geo-layers';\nimport {IconLayer, GeoJsonLayer, TextLayer} from '@deck.gl/layers';\n\nfunction updateTime(time) {\n  var period = \"AM\";\n  if (time / 3600 >= 12) {\n    period = \"PM\";\n  }\n  if (time / 3600 <= 6 || time / 3600 >= 18) {\n    $('#time').css('background-color', 'black');\n    $('#time').css('color', 'white');\n  }\n  else {\n    $('#time').css('background-color', 'white');\n    $('#time').css('color', 'black');\n  }\n\n  var hours = Math.floor(time / 3600) % 12;\n  var minutes = Math.floor(time / 60) % 60;\n  var seconds = time % 60;\n\n  if (hours == 0) hours = 12;\n  hours = hours < 10 ? `0${hours}` : hours;\n  minutes = minutes < 10 ? `0${minutes}` : minutes;\n  seconds = seconds < 10 ? `0${seconds}` : seconds;\n\n  var display_time = `${hours}:${minutes}:${seconds} ${period}`;\n  $('#time').text(display_time);\n};\n\nfunction updateMetricAnimations(time) {\n  let timeframe_idx = (time - (time % TIME_STEP)).toString();\n\n  let vehicles_moving = timeframe_metrics[timeframe_idx][\"vehicles_moving\"];\n  $('#vehicles_moving').text(vehicles_moving.toLocaleString());\n\n  let vehicles_with_pax_moving = timeframe_metrics[timeframe_idx][\"vehicles_with_pax_moving\"];\n  $('#vehicles_with_pax_moving').text(vehicles_with_pax_moving.toLocaleString());\n\n  let empty_vehicles_moving = timeframe_metrics[timeframe_idx][\"empty_vehicles_moving\"];\n  $('#empty_vehicles_moving').text(empty_vehicles_moving.toLocaleString());\n\n  let vehicles_not_moving = timeframe_metrics[timeframe_idx][\"vehicles_not_moving\"];\n  $('#vehicles_not_moving').text(vehicles_not_moving.toLocaleString());\n\n  let total_pax = timeframe_metrics[timeframe_idx][\"total_pax\"];\n  $('#total_pax').text(total_pax.toLocaleString());\n\n  let pax_moving = timeframe_metrics[timeframe_idx][\"pax_moving\"];\n  $('#pax_moving').text(pax_moving.toLocaleString());\n\n  let pax_waiting = timeframe_metrics[timeframe_idx][\"pax_waiting\"];\n  $('#pax_waiting').text(pax_waiting.toLocaleString());\n\n  let pax_served_running_total = timeframe_metrics[timeframe_idx][\"pax_served_running_total\"];\n  $('#pax_served_running_total').text(pax_served_running_total.toLocaleString());\n\n  let pax_missed_running_total = timeframe_metrics[timeframe_idx][\"pax_missed_running_total\"];\n  $('#pax_missed_running_total').text(pax_missed_running_total.toLocaleString());\n};\n\n\nconst ambientLight = new AmbientLight({\n  color: [255, 255, 255],\n  intensity: 1.0\n});\n\nconst pointLight = new PointLight({\n  color: [255, 255, 255],\n  intensity: 2.0,\n  position: [-74.762758, 40.226667, 8000]\n});\n\nconst lightingEffect = new LightingEffect({ambientLight, pointLight});\n\nconst material = {\n  ambient: 0.1,\n  diffuse: 0.6,\n  shininess: 32,\n  specularColor: [60, 64, 70]\n};\n\nconst DEFAULT_THEME = {\n  buildingColor: [175, 175, 175], // gray\n  trailColor0: [255, 0, 0], // red\n  trailColor1: [230, 140, 0], // orange/gold\n  trailColor2: [200, 200, 0], // dark blue\n  trailColor3: [60, 200, 0], // light green\n  trailColor4: [0, 100, 0], // dark green\n  material,\n  effects: [lightingEffect]\n};\n\nconst INITIAL_VIEW_STATE = {\n  longitude: center_coordinates[\"lng\"],\n  latitude: center_coordinates[\"lat\"],\n  zoom: 12,\n  pitch: 45,\n  bearing: 0\n};\n\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/positron-gl-style/style.json';\n\nconst ICON_MAPPING = {\n  marker: {x: 0, y: 0, width: 512, height: 512, anchorY: 512}\n};\n\nfunction App({\n  kiosks = KIOSKS,\n  kiosk_metrics = KIOSK_METRICS,\n  road_network = ROAD_NETWORK,\n  trips = TRIPS,\n  trailLength = 10,\n  initialViewState = INITIAL_VIEW_STATE,\n  mapStyle = MAP_STYLE,\n  theme = DEFAULT_THEME,\n  loopLength = 86995, // unit corresponds to the timestamp in source data\n  startingAnimationSpeed = 1,\n  startTime = 0\n}) {\n  // States that decide which vehicle occupancy to show\n  const [occupancyHideArray, setOccupancyHideArray] = useState([]);\n\n  const [animationSpeed, setAnimationSpeed] = useState(startingAnimationSpeed);\n  const [prevAnimationSpeed, setPrevAnimationSpeed] = useState(animationSpeed);\n  const [time, setTime] = useState(startTime);\n  updateTime(time);\n  updateMetricAnimations(time);\n  const [animation] = useState({});\n\n  const animate = () => {\n    setTime(t => (t + animationSpeed) % loopLength);\n    animation.id = window.requestAnimationFrame(animate);\n  };\n\n  useEffect(\n    () => {\n      animation.id = window.requestAnimationFrame(animate);\n      return () => window.cancelAnimationFrame(animation.id);\n    },\n    [animation, animationSpeed, time, prevAnimationSpeed, occupancyHideArray]\n  );\n\n  const trailColors = [theme.trailColor0, theme.trailColor1, theme.trailColor2, theme.trailColor3, theme.trailColor4];\n  const layers = [\n    new GeoJsonLayer({\n      id: 'road-network',\n      data: road_network,\n      pickable: false,\n      lineWidthScale: 20,\n      getLineWidth: 1,\n      lineWidthMinPixels: 2,\n      getLineColor: [169, 169, 169, 100],\n      parameters: {depthTest: false}\n    }),\n    new IconLayer({\n      id: 'icon-layer',\n      data: kiosks,\n      pickable: true,\n      // iconAtlas and iconMapping are required\n      // getIcon: return a string\n      iconAtlas: '/static/assets/kiosk_clipart.png',\n      iconMapping: ICON_MAPPING,\n      getIcon: d => 'marker',\n\n      sizeScale: 5,\n      getPosition: d => d.coordinates,\n      getSize: d => 5,\n      sizeMinPixels: 20,\n      sizeMaxPixels: 200,\n      parameters: {depthTest: false}\n    }),\n    new TextLayer({\n      id: 'vehicle-passenger-counts',\n      data: kiosk_metrics[(time-(time%TIME_STEP)).toString()],\n      pickable: false,\n      fontFamily: 'monospace, Material Icons',\n      characterSet: ['\\ue559', '\\ue7fd', '\\uf233', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ',', '\\n'],\n      getPosition: d => d.c,\n      getText: d => d.n + '\\n' + d.v.toLocaleString() + '\\ue559 ' + d.p.toLocaleString() + '\\ue7fd ' + d.g.toLocaleString() + '\\uf233',\n      getSize: 10,\n      getAngle: 0,\n      getTextAnchor: 'middle',\n      getAlignmentBaseline: 'top',\n      parameters: {depthTest: false}\n    }),\n    new TripsLayer({\n      id: 'trips',\n      data: trips,\n      getPath: d => d.lnglats,\n      getTimestamps: d => d.timestamps,\n      getColor: d => {\n        let num = d.num_passengers;\n        if (!(occupancyHideArray.includes(num))) {\n          return trailColors[num];\n        }\n        else {\n          return [0, 0, 0, 0];\n        }\n      },\n      updateTriggers: {\n        getColor: occupancyHideArray\n      },\n      opacity: 1,\n      widthMinPixels: 10,\n      rounded: true,\n      trailLength,\n      currentTime: time,\n      shadowEnabled: false,\n      // Enable picking\n      pickable: true\n    })\n  ];\n\n  return (\n    <div>\n    <div id=\"topright\" style={{position: 'absolute', bottom: '10px', right: '0', zIndex: '1'}}>\n      <div class='my-legend'>\n        <div class='legend-title'>Car Occupancy</div>\n        <div class='legend-scale'>\n          <ul class='legend-labels'>\n            <li>\n              <input type=\"checkbox\" id=\"zeroPax\" value=\"0\" onClick={() => {\n              let id_str=\"#zeroPax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"zeroPax\">\n                  <span style={{background: 'rgb(255, 0, 0)'}}></span>Zero Passengers\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"onePax\" value=\"1\" onClick={() => {\n              let id_str=\"#onePax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"onePax\">\n                  <span style={{background: 'rgb(230, 140, 0)'}}></span>One Passenger\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"twoPax\" value=\"2\" onClick={() => {\n              let id_str=\"#twoPax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"twoPax\">\n                  <span style={{background: 'rgb(200, 200, 0)'}}></span>Two Passengers\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"threePax\" value=\"3\" onClick={() => {\n              let id_str=\"#threePax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"threePax\">\n                  <span style={{background: 'rgb(60, 200, 0)'}}></span>Three Passengers\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"fourPax\" value=\"4\" onClick={() => {\n              let id_str=\"#fourPax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"fourPax\">\n                  <span style={{background: 'rgb(0, 100, 0)'}}></span>Four Passengers\n                </label>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div style={{position: 'absolute', bottom: '0', left: '30%', width: '40%', textAlign: 'center', zIndex: '2'}}>\n    <button onClick={() => {setTime(Math.max(0, time-1));}}>\n        <i class=\"fas fa-step-backward\" />\n    </button>\n    <button onClick={() => {setAnimationSpeed(prevAnimationSpeed);}}>\n        <i class=\"fa fa-play\" />\n    </button>\n    <button onClick={() => {setPrevAnimationSpeed(animationSpeed); setAnimationSpeed(0);}}>\n        <i class=\"fa fa-stop\" />\n    </button>\n    <button onClick={() => {setTime((time+1) % loopLength);}}>\n        <i class=\"fas fa-step-forward\" />\n    </button>\n    <button onClick={() => {setPrevAnimationSpeed(1); setAnimationSpeed(1); setTime(0);}}>\n        <i class=\"fas fa-redo\" />\n    </button>\n    <br />\n    <label for=\"speedInput\">Speed: {animationSpeed}x</label>\n    <input style={{paddingTop: '5px', width:\"70%\", float:\"right\"}} id=\"speedInput\" onChange={() => {setAnimationSpeed(parseInt(document.getElementById(\"speedSelector\").value)); setPrevAnimationSpeed(parseInt(document.getElementById(\"speedSelector\").value));}} type=\"range\" value={animationSpeed} min=\"0\" max=\"50\" id=\"speedSelector\" />\n    <br />\n    <label for=\"timeInput\">Time: {time} sec</label>\n    <input style={{width:\"70%\", float: \"right\"}} id=\"timeInput\" onChange={() => {setTime(parseInt(document.getElementById(\"timeSelector\").value) % loopLength);}} type=\"range\" value={time} min=\"0\" max={loopLength} id=\"timeSelector\" />\n    </div>\n\n    <DeckGL\n      layers={layers}\n      effects={theme.effects}\n      initialViewState={initialViewState}\n      controller={true}\n      getTooltip={({object}) => object && `${object.msg}`}\n    >\n      <StaticMap reuseMaps mapStyle={mapStyle} preventStyleDiffing={true} />\n    </DeckGL>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}