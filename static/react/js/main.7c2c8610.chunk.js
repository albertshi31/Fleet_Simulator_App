(this["webpackJsonpfleet-simulator"]=this["webpackJsonpfleet-simulator"]||[]).push([[0],{160:function(t,e,i){},164:function(t,e){},168:function(t,e,i){"use strict";i.r(e);var n=i(4),o=i.n(n),r=i(120),a=i.n(r),c=(i(160),i(13)),l=i(142),s=i(136),u=i(177),g=i(124),d=i(184),f=i(188),m=i(186),h=i(178),b=i(66);var p=new s.a({color:[255,255,255],intensity:1}),v=new u.a({color:[255,255,255],intensity:2,position:[-74.762758,40.226667,8e3]}),C={buildingColor:[175,175,175],trailColor0:[255,0,0],trailColor1:[173,216,230],trailColor2:[0,0,139],trailColor3:[144,238,144],trailColor4:[0,100,0],trailColor5:[0,0,0],material:{ambient:.1,diffuse:.6,shininess:32,specularColor:[60,64,70]},effects:[new g.a({ambientLight:p,pointLight:v})]},w={longitude:-74.762758,latitude:40.226667,zoom:12,pitch:45,bearing:0};var O=function(t){var e=t.buildings,i=void 0===e?BUILDINGS:e,o=t.trips,r=void 0===o?TRIPS:o,a=t.waiting_passengers,s=void 0===a?WAITING_PASSENGERS:a,u=t.waiting_vehicles,g=void 0===u?WAITING_VEHICLES:u,p=t.trailLength,v=void 0===p?5:p,O=t.initialViewState,S=void 0===O?w:O,A=t.mapStyle,I=void 0===A?"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json":A,T=t.theme,j=void 0===T?C:T,x=t.loopLength,N=void 0===x?LOOP_LENGTH:x,P=t.startingAnimationSpeed,M=void 0===P?animation_speed:P,y=Object(n.useState)(M),E=Object(c.a)(y,2),L=E[0],_=E[1];console.log(L);var F=Object(n.useState)(0),k=Object(c.a)(F,2),V=k[0],R=k[1];!function(t){var e="AM";t/3600>=12&&(e="PM"),t/3600<=6||t/3600>=18?($("#time").css("background-color","black"),$("#time").css("color","white")):($("#time").css("background-color","white"),$("#time").css("color","black"));var i=Math.floor(t/3600)%12,n=Math.floor(t/60)%60,o=t%60;0==i&&(i=12),i=i<10?"0".concat(i):i,n=n<10?"0".concat(n):n,o=o<10?"0".concat(o):o;var r="".concat(i,":").concat(n,":").concat(o," ").concat(e);$("#time").text(r)}(V),function(t){var e=METRIC_ANIMATIONS.NumOfActiveVehicles[t],i=METRIC_ANIMATIONS.NumOfActivePassengers[t],n=METRIC_ANIMATIONS.AVO[t],o=METRIC_ANIMATIONS.PassengersLeft[t];$("#AVO").html(n.toFixed(2).toString()),$("#NumOfActiveVehicles").html(e.toString()),$("#NumOfActivePassengers").html(i.toString()),$("#PassengersLeft").html(o.toString())}(V);var B=Object(n.useState)({}),G=Object(c.a)(B,1)[0],z=function t(){R((function(t){return(t+L)%N})),G.id=window.requestAnimationFrame(t)};Object(n.useEffect)((function(){return G.id=window.requestAnimationFrame(z),function(){return window.cancelAnimationFrame(G.id)}}),[G]);var D=[j.trailColor0,j.trailColor1,j.trailColor2,j.trailColor3,j.trailColor4,j.trailColor5],q=[new h.a({id:"trips",data:r,getPath:function(t){return t.path},getTimestamps:function(t){return t.timestamps},getColor:function(t){return D[t.vendor]},opacity:.8,widthMinPixels:5,rounded:!0,trailLength:v,currentTime:V,shadowEnabled:!1}),new f.a({id:"buildings",data:i,extruded:!0,wireframe:!1,opacity:.5,getPolygon:function(t){return t.polygon},getElevation:function(t){return t.height},getFillColor:j.buildingColor,material:j.material}),new m.a({id:"waiting_passengers",data:s[V],getPosition:function(t){return t.coordinates},getText:function(t){return t.number},getSize:20,getColor:[255,0,0],getTextAnchor:"start",getAlignmentBaseline:"bottom",getPixelOffset:[5,5],parameters:{depthTest:!1}}),new m.a({id:"waiting_vehicles",data:g[V],getPosition:function(t){return t.coordinates},getText:function(t){return t.number},getSize:20,getColor:[79,130,247],getTextAnchor:"end",getAlignmentBaseline:"bottom",getPixelOffset:[-5,5],parameters:{depthTest:!1}})];return Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{style:{position:"absolute",zIndex:"2"},onClick:function(){return _(2*L)},children:"Fast forward"}),Object(b.jsx)(d.a,{layers:q,effects:j.effects,initialViewState:S,controller:!0,children:Object(b.jsx)(l.a,{reuseMaps:!0,mapStyle:I,preventStyleDiffing:!0})})]})},S=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,191)).then((function(e){var i=e.getCLS,n=e.getFID,o=e.getFCP,r=e.getLCP,a=e.getTTFB;i(t),n(t),o(t),r(t),a(t)}))};a.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),S()},96:function(t,e){}},[[168,1,2]]]);
//# sourceMappingURL=main.7c2c8610.chunk.js.map