{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["time","a","load","JSONLoader","METRIC_ANIMATIONS","num_active_vehicles","num_active_passengers","avo","passengers_left","served_passengers","$","html","toFixed","toString","INDEX_METRICS","ambientLight","AmbientLight","color","intensity","pointLight","PointLight","position","DEFAULT_THEME","buildingColor","trailColor0","trailColor1","trailColor2","trailColor3","trailColor4","material","ambient","diffuse","shininess","specularColor","effects","LightingEffect","INITIAL_VIEW_STATE","longitude","latitude","zoom","pitch","bearing","DATA_URL","App","buildings","trips","trailLength","initialViewState","mapStyle","theme","loopLength","startingAnimationSpeed","startTime","useState","occupancyHideArray","setOccupancyHideArray","animationSpeed","setAnimationSpeed","prevAnimationSpeed","setPrevAnimationSpeed","setTime","period","css","hours","Math","floor","minutes","seconds","display_time","text","updateTime","updateMetricAnimations","updateIndexMetrics","animation","animate","t","id","window","requestAnimationFrame","useEffect","cancelAnimationFrame","trailColors","layers","TripsLayer","data","getPath","d","path","getTimestamps","timestamps","getColor","num","vendor","includes","updateTriggers","opacity","widthMinPixels","rounded","currentTime","shadowEnabled","pickable","PolygonLayer","extruded","wireframe","getPolygon","f","polygon","getElevation","height","getFillColor","style","bottom","right","zIndex","class","type","value","onClick","id_str","copyArray","result","prop","filter","parseInt","val","concat","console","log","for","background","left","width","textAlign","max","paddingTop","float","onChange","document","getElementById","min","controller","getTooltip","object","m","reuseMaps","preventStyleDiffing","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"js/main.d4f952f7.chunk.js","sourcesContent":["/* global window */\nimport React, {useState, useEffect} from 'react';\nimport {render} from 'react-dom';\nimport {StaticMap} from 'react-map-gl';\nimport {AmbientLight, PointLight, LightingEffect} from '@deck.gl/core';\nimport DeckGL from '@deck.gl/react';\nimport {PolygonLayer, TextLayer, ScatterplotLayer} from '@deck.gl/layers';\nimport {TripsLayer} from '@deck.gl/geo-layers';\nimport {JSONLoader} from '@loaders.gl/json';\nimport {load} from '@loaders.gl/core';\n\nasync function updateMetricAnimations(time) {\n  const METRIC_ANIMATIONS = await load('https://raw.githubusercontent.com/gdl2/Fleet_Simulator_App/master/static/Trenton/metric_animations.json', JSONLoader);\n  let num_active_vehicles = METRIC_ANIMATIONS[\"NumOfActiveVehicles\"][time];\n  let num_active_passengers = METRIC_ANIMATIONS[\"NumOfActivePassengers\"][time];\n  let avo = METRIC_ANIMATIONS[\"AVO\"][time];\n  let passengers_left = METRIC_ANIMATIONS[\"PassengersLeft\"][time];\n  let served_passengers = METRIC_ANIMATIONS[\"ServedPassengers\"][time];\n  $('#AVO').html(avo.toFixed(2).toString());\n  $('#NumOfActiveVehicles').html(num_active_vehicles.toString());\n  $('#NumOfActivePassengers').html(num_active_passengers.toString());\n  $('#PassengersLeft').html(passengers_left.toString());\n  $('#ServedPassengers').html(served_passengers.toString());\n};\n\nasync function updateIndexMetrics() {\n  const INDEX_METRICS = await load('https://raw.githubusercontent.com/gdl2/Fleet_Simulator_App/master/static/Trenton/index_metrics.json', JSONLoader);\n  $(\"#total_passengers_served\").html(INDEX_METRICS[\"total_passengers_served\"].toString());\n  $(\"#total_passengers_missed\").html(INDEX_METRICS[\"total_passengers_missed\"].toString());\n  $(\"#total_vehicle_miles_traveled\").html(INDEX_METRICS[\"total_vehicle_miles_traveled\"].toFixed(2).toString());\n  $(\"#empty_vehicle_miles_traveled\").html(INDEX_METRICS[\"empty_vehicle_miles_traveled\"].toFixed(2).toString());\n  $(\"#avg_passenger_wait_time\").html(INDEX_METRICS[\"avg_passenger_wait_time\"].toFixed(2).toString());\n  $(\"#p90_passenger_wait_time\").html(INDEX_METRICS[\"p90_passenger_wait_time\"].toFixed(2).toString());\n  $(\"#p99_passenger_wait_time\").html(INDEX_METRICS[\"p99_passenger_wait_time\"].toFixed(2).toString());\n  $(\"#total_vehicles_used\").html(INDEX_METRICS[\"total_vehicles_used\"].toString());\n}\n\nfunction updateTime(time) {\n  var period = \"AM\";\n  if (time / 3600 >= 12) {\n    period = \"PM\";\n  }\n  if (time / 3600 <= 6 || time / 3600 >= 18) {\n    $('#time').css('background-color', 'black');\n    $('#time').css('color', 'white');\n  }\n  else {\n    $('#time').css('background-color', 'white');\n    $('#time').css('color', 'black');\n  }\n\n  var hours = Math.floor(time / 3600) % 12;\n  var minutes = Math.floor(time / 60) % 60;\n  var seconds = time % 60;\n\n  if (hours == 0) hours = 12;\n  hours = hours < 10 ? `0${hours}` : hours;\n  minutes = minutes < 10 ? `0${minutes}` : minutes;\n  seconds = seconds < 10 ? `0${seconds}` : seconds;\n\n  var display_time = `${hours}:${minutes}:${seconds} ${period}`;\n  $('#time').text(display_time);\n};\n\nconst ambientLight = new AmbientLight({\n  color: [255, 255, 255],\n  intensity: 1.0\n});\n\nconst pointLight = new PointLight({\n  color: [255, 255, 255],\n  intensity: 2.0,\n  position: [-74.762758, 40.226667, 8000]\n});\n\nconst lightingEffect = new LightingEffect({ambientLight, pointLight});\n\nconst material = {\n  ambient: 0.1,\n  diffuse: 0.6,\n  shininess: 32,\n  specularColor: [60, 64, 70]\n};\n\nconst DEFAULT_THEME = {\n  buildingColor: [175, 175, 175], // gray\n  trailColor0: [255, 0, 0], // red\n  trailColor1: [173, 216, 230], // lightblue\n  trailColor2: [0, 0, 139], // dark blue\n  trailColor3: [144, 238, 144], // light green\n  trailColor4: [0, 100, 0], // dark green\n  material,\n  effects: [lightingEffect]\n};\n\nconst INITIAL_VIEW_STATE = {\n  longitude: -74.76742569645,\n  latitude: 40.2274908573,\n  zoom: 12,\n  pitch: 45,\n  bearing: 0\n};\n\n// Source data CSV\nconst DATA_URL = {\n  BUILDINGS: 'https://raw.githubusercontent.com/gdl2/Fleet_Simulator_App/master/static/Trenton/depotbuildings.json', // eslint-disable-line\n  TRIPS: 'https://raw.githubusercontent.com/gdl2/Fleet_Simulator_App/master/static/Trenton/trips.json', // eslint-disable-line\n};\n\nconst MAP_STYLE = 'https://basemaps.cartocdn.com/gl/positron-nolabels-gl-style/style.json';\n\nfunction App({\n  buildings = DATA_URL.BUILDINGS,\n  trips = DATA_URL.TRIPS,\n  trailLength = 15,\n  initialViewState = INITIAL_VIEW_STATE,\n  mapStyle = MAP_STYLE,\n  theme = DEFAULT_THEME,\n  loopLength = 87109, // unit corresponds to the timestamp in source data\n  startingAnimationSpeed = 1,\n  startTime = 0\n}) {\n  // States that decide which vehicle occupancy to show\n  const [occupancyHideArray, setOccupancyHideArray] = useState([]);\n\n  const [animationSpeed, setAnimationSpeed] = useState(startingAnimationSpeed);\n  const [prevAnimationSpeed, setPrevAnimationSpeed] = useState(animationSpeed);\n  const [time, setTime] = useState(startTime);\n  updateTime(time);\n  updateMetricAnimations(time);\n  updateIndexMetrics();\n  const [animation] = useState({});\n\n  const animate = () => {\n    setTime(t => (t + animationSpeed) % loopLength);\n    animation.id = window.requestAnimationFrame(animate);\n  };\n\n  useEffect(\n    () => {\n      animation.id = window.requestAnimationFrame(animate);\n      return () => window.cancelAnimationFrame(animation.id);\n    },\n    [animation, animationSpeed, time, prevAnimationSpeed, occupancyHideArray]\n  );\n\n  const trailColors = [theme.trailColor0, theme.trailColor1, theme.trailColor2, theme.trailColor3, theme.trailColor4];\n  const layers = [\n    new TripsLayer({\n      id: 'trips',\n      data: trips,\n      getPath: d => d.path,\n      getTimestamps: d => d.timestamps,\n      getColor: d => {\n        let num = d.vendor;\n        if (!(occupancyHideArray.includes(num))) {\n          return trailColors[num];\n        }\n        else {\n          return [0, 0, 0, 0];\n        }\n      },\n      updateTriggers: {\n        getColor: occupancyHideArray\n      },\n      opacity: 1,\n      widthMinPixels: 10,\n      rounded: true,\n      trailLength,\n      currentTime: time,\n      shadowEnabled: false,\n      // Enable picking\n      pickable: true\n    }),\n    new PolygonLayer({\n      id: 'buildings',\n      data: buildings,\n      extruded: true,\n      wireframe: false,\n      opacity: 0.5,\n      getPolygon: f => f.polygon,\n      getElevation: f => f.height,\n      getFillColor: theme.buildingColor,\n      material: theme.material,\n      // Enable picking\n      pickable: true\n    }),\n  ];\n\n  return (\n    <div>\n    <div id=\"topright\" style={{position: 'absolute', bottom: '10px', right: '0', zIndex: '1'}}>\n      <div class='my-legend'>\n        <div class='legend-title'>Car Occupancy</div>\n        <div class='legend-scale'>\n          <ul class='legend-labels'>\n            <li>\n              <input type=\"checkbox\" id=\"zeroPax\" value=\"0\" onClick={() => {\n              let id_str=\"#zeroPax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              console.log(result);\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"zeroPax\">\n                  <span style={{background: '#FF0000'}}></span>Zero Passengers\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"onePax\" value=\"1\" onClick={() => {\n              let id_str=\"#onePax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              console.log(result);\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"onePax\">\n                  <span style={{background: '#ADD8E6'}}></span>One Passenger\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"twoPax\" value=\"2\" onClick={() => {\n              let id_str=\"#twoPax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              console.log(result);\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"twoPax\">\n                  <span style={{background: '#00008B'}}></span>Two Passengers\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"threePax\" value=\"3\" onClick={() => {\n              let id_str=\"#threePax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              console.log(result);\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"threePax\">\n                  <span style={{background: '#90EE90'}}></span>Three Passengers\n                </label>\n            </li>\n            <li>\n              <input type=\"checkbox\" id=\"fourPax\" value=\"4\" onClick={() => {\n              let id_str=\"#fourPax\";\n              const copyArray = [...occupancyHideArray];\n              var result = [];\n              if ($(id_str).prop('checked')) {\n                result = copyArray.filter(num => num != parseInt($(id_str).val()));\n              }\n              else {\n                result = copyArray.concat(parseInt($(id_str).val()));\n              }\n              console.log(result);\n              setOccupancyHideArray(result);\n            }} />\n                <label for=\"fourPax\">\n                  <span style={{background: '#006400'}}></span>Four Passengers\n                </label>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div style={{position: 'absolute', bottom: '0', left: '30%', width: '40%', textAlign: 'center', zIndex: '2'}}>\n    <button onClick={() => {setTime(Math.max(0, time-1));}}>\n        <i class=\"fas fa-step-backward\" />\n    </button>\n    <button onClick={() => {setAnimationSpeed(prevAnimationSpeed);}}>\n        <i class=\"fa fa-play\" />\n    </button>\n    <button onClick={() => {setPrevAnimationSpeed(animationSpeed); setAnimationSpeed(0);}}>\n        <i class=\"fa fa-stop\" />\n    </button>\n    <button onClick={() => {setTime((time+1) % loopLength);}}>\n        <i class=\"fas fa-step-forward\" />\n    </button>\n    <button onClick={() => {setPrevAnimationSpeed(1); setAnimationSpeed(1); setTime(0);}}>\n        <i class=\"fas fa-redo\" />\n    </button>\n    <br />\n    <label for=\"speedInput\">Speed: {animationSpeed}x</label>\n    <input style={{paddingTop: '5px', width:\"70%\", float:\"right\"}} id=\"speedInput\" onChange={() => {setAnimationSpeed(parseInt(document.getElementById(\"speedSelector\").value)); setPrevAnimationSpeed(parseInt(document.getElementById(\"speedSelector\").value));}} type=\"range\" value={animationSpeed} min=\"0\" max=\"50\" id=\"speedSelector\" />\n    <br />\n    <label for=\"timeInput\">Time: {time} sec</label>\n    <input style={{width:\"70%\", float: \"right\"}} id=\"timeInput\" onChange={() => {setTime(parseInt(document.getElementById(\"timeSelector\").value) % loopLength);}} type=\"range\" value={time} min=\"0\" max={loopLength} id=\"timeSelector\" />\n    </div>\n\n    <DeckGL\n      layers={layers}\n      effects={theme.effects}\n      initialViewState={initialViewState}\n      controller={true}\n      getTooltip={({object}) => object && object.m}\n    >\n      <StaticMap reuseMaps mapStyle={mapStyle} preventStyleDiffing={true} />\n    </DeckGL>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}